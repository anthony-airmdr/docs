---
title: "Microsoft Graph"
description: "Microsoft Graph is an API that allows developers to access Microsoft 365 data and services. It provides a unified endpoint (https://graph.microsoft.com) to interact with various Microsoft services."
---

### Pre-requisites

<Check>
  Microsoft 365 Tenant & Azure AD Access

  - A **Microsoft 365 account** with **Azure Active Directory (Azure AD)** access
  - If you donâ€™t have one, you can sign up for a
</Check>

<Check>
  Azure AD App Registration Permissions

  - **Global Admin** or **App Registration Administrator** role in Azure AD is required to register an app in **Azure Active Directory**
</Check>

### Setup Microsoft Graph API

Setting up the **Microsoft Graph API** involves a few steps, including registering an app in **Azure AD** and configuring permissions.

<Steps>
  <Step title="Register an App in Azure AD">
    1. Go to [Azure Portal](https://portal.azure.com/).
    2. Search and select "Microsoft Entra ID" in the search bar.
    3. Navigate to **Manage** â†’ **App registrations.**
    4. Click **\+ New registration.**
    5. Provide:
       - **Name**: e.g., "graphapi-client-airmdr"
       - **Supported account types**: Choose "**Accounts in any identity provider or organizational directory (for authenticating users with user flows)**"
    6. Click **Register.**

       <Note>
         Post successful registration, the application must open automatically if not
         1. Search for Microsoft Entra ID.
         2. Select **Manage** â†’ **App registrations.**
         3. Select the **All Applications** tab.
         4. Click on the registered app.
       </Note>
  </Step>
  <Step title="Configure API Permissions">
    1. Go to **Manage** â†’ **API Permissions** in the app settings.
    2. Click **\+ Add a permission.**
    3. Select **Microsoft Graph.**
    4. Choose **Application permissions**.
    5. Select the required permissions (`User.Read` , `User.Read.All` , `User.ReadBasic.All` , `SecurityEvents.Read.All` , `SecurityAlert.Read.All` , `SecurityIncident.Read.All` , `SecurityActions.Read.All` , `AuditLog.Read.All` , `Directory.Read.All`
    6. Click on **Add Permissions**.
    7. In API permissions, click **Grant admin consent**.
  </Step>
  <Step title="Create Client Secret (For Authentication)">
    1. Go to **Manage** â†’ **Certificates & secrets.**
    2. Select **Client Secrets** tab.
    3. Click **\+ New client secret.**
    4. Add a **description** and **expiration period.**
    5. Click **Create**.

       <Warning>
         Copy and securely save the **Client Secret Value** (it wonâ€™t be shown again)
       </Warning>
  </Step>
  <Step title="Securely share the Client Secret, Client and Tenant IDs to AirMDR">
    To access the Client ID, and the Tenant ID to use in Graph API authentication

    1. Go to [Azure Portal](https://portal.azure.com/).
    2. Navigate to **Azure Active Directory.**
    3. Click **App registrations.**
    4. Select your **registered app.**
    5. Under the **Overview** section, locate **Application (client) ID** and **Tenant ID (Directory ID).**
    6. Click the **Copy** icon **ðŸ“‹** next to the Client ID, and the Tenant ID respectively.

       <Info>
         Now, your **Tenant ID** and **Client ID** are copied and ready to use for authentication in Microsoft Graph API.
       </Info>
       <Check>
         <Icon icon="envelope" /> Share the **Tenant ID**, **Client ID** and the \*\*Client Secret \*\*via a secured method with the AirMDR operations team or self-configure them in the AirMDR Integrations Dashboard.
       </Check>
  </Step>
</Steps>

### Configure Microsoft Graph in AirMDR Integrations Dashboard

1. Navigate to [AirMDR](https://app.airmdr.com/auth/login), provide the credentials and click **Login.**

   ![](/images/Datadog11.png)
2. Navigate to the AirMDR Integrations Dashboard in the left navigation pane and select **Integrations.**\
   ![images/Duo7.png](/images/Duo7.png)
3. Use the search option, enter the keyword "**Microsoft Graph**", select the **Connections** tab, and click the **\+ Create** icon.
4. Enter the generated **Tenant ID, Client ID** and the **Client Secret** in the Authentication Details field params, and click **Create.**